<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Coding Notebook</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="notebook_files/libs/clipboard/clipboard.min.js"></script>
<script src="notebook_files/libs/quarto-html/quarto.js"></script>
<script src="notebook_files/libs/quarto-html/popper.min.js"></script>
<script src="notebook_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="notebook_files/libs/quarto-html/anchor.min.js"></script>
<link href="notebook_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="notebook_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="notebook_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="notebook_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="notebook_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="changes.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents:</h2>
   
  <ul>
  <li><a href="#what-is-this" id="toc-what-is-this" class="nav-link active" data-scroll-target="#what-is-this">What is This?</a></li>
  <li><a href="#week-1-may-29-to-june-4" id="toc-week-1-may-29-to-june-4" class="nav-link" data-scroll-target="#week-1-may-29-to-june-4">Week 1 (May 29 to June 4)</a>
  <ul class="collapse">
  <li><a href="#learned" id="toc-learned" class="nav-link" data-scroll-target="#learned">Learned</a></li>
  <li><a href="#created" id="toc-created" class="nav-link" data-scroll-target="#created">Created</a></li>
  <li><a href="#confused" id="toc-confused" class="nav-link" data-scroll-target="#confused">Confused</a></li>
  </ul></li>
  <li><a href="#week-2-june-5-to-june-11" id="toc-week-2-june-5-to-june-11" class="nav-link" data-scroll-target="#week-2-june-5-to-june-11">Week 2 (June 5 to June 11)</a>
  <ul class="collapse">
  <li><a href="#learned-1" id="toc-learned-1" class="nav-link" data-scroll-target="#learned-1">Learned</a></li>
  <li><a href="#created-1" id="toc-created-1" class="nav-link" data-scroll-target="#created-1">Created</a></li>
  <li><a href="#failed" id="toc-failed" class="nav-link" data-scroll-target="#failed">Failed</a></li>
  <li><a href="#confused-1" id="toc-confused-1" class="nav-link" data-scroll-target="#confused-1">Confused</a></li>
  </ul></li>
  <li><a href="#week-3-june-12-to-june-18" id="toc-week-3-june-12-to-june-18" class="nav-link" data-scroll-target="#week-3-june-12-to-june-18">Week 3 (June 12 to June 18)</a>
  <ul class="collapse">
  <li><a href="#learned-2" id="toc-learned-2" class="nav-link" data-scroll-target="#learned-2">Learned</a></li>
  <li><a href="#created-2" id="toc-created-2" class="nav-link" data-scroll-target="#created-2">Created</a></li>
  </ul></li>
  <li><a href="#week-4-june-19-to-june-25" id="toc-week-4-june-19-to-june-25" class="nav-link" data-scroll-target="#week-4-june-19-to-june-25">Week 4 (June 19 to June 25)</a>
  <ul class="collapse">
  <li><a href="#learned-3" id="toc-learned-3" class="nav-link" data-scroll-target="#learned-3">Learned</a></li>
  <li><a href="#created-3" id="toc-created-3" class="nav-link" data-scroll-target="#created-3">Created</a></li>
  </ul></li>
  <li><a href="#week-5-june-26-to-july-2" id="toc-week-5-june-26-to-july-2" class="nav-link" data-scroll-target="#week-5-june-26-to-july-2">Week 5 (June 26 to July 2)</a>
  <ul class="collapse">
  <li><a href="#learned-4" id="toc-learned-4" class="nav-link" data-scroll-target="#learned-4">Learned</a></li>
  <li><a href="#created-4" id="toc-created-4" class="nav-link" data-scroll-target="#created-4">Created</a></li>
  <li><a href="#in-progress" id="toc-in-progress" class="nav-link" data-scroll-target="#in-progress">In Progress</a></li>
  </ul></li>
  <li><a href="#week-6-july-3-to-july-9" id="toc-week-6-july-3-to-july-9" class="nav-link" data-scroll-target="#week-6-july-3-to-july-9">Week 6 (July 3 to July 9)</a>
  <ul class="collapse">
  <li><a href="#learned-5" id="toc-learned-5" class="nav-link" data-scroll-target="#learned-5">Learned</a></li>
  <li><a href="#created-5" id="toc-created-5" class="nav-link" data-scroll-target="#created-5">Created</a></li>
  <li><a href="#other-notes" id="toc-other-notes" class="nav-link" data-scroll-target="#other-notes">Other Notes</a></li>
  </ul></li>
  <li><a href="#week-7-july-10-to-july-16" id="toc-week-7-july-10-to-july-16" class="nav-link" data-scroll-target="#week-7-july-10-to-july-16">Week 7 (July 10 to July 16)</a>
  <ul class="collapse">
  <li><a href="#learned-6" id="toc-learned-6" class="nav-link" data-scroll-target="#learned-6">Learned</a></li>
  <li><a href="#created-6" id="toc-created-6" class="nav-link" data-scroll-target="#created-6">Created</a></li>
  </ul></li>
  <li><a href="#week-8-july-17-to-july-23" id="toc-week-8-july-17-to-july-23" class="nav-link" data-scroll-target="#week-8-july-17-to-july-23">Week 8 (July 17 to July 23)</a>
  <ul class="collapse">
  <li><a href="#learned-7" id="toc-learned-7" class="nav-link" data-scroll-target="#learned-7">Learned</a></li>
  <li><a href="#created-7" id="toc-created-7" class="nav-link" data-scroll-target="#created-7">Created</a></li>
  <li><a href="#in-progress-1" id="toc-in-progress-1" class="nav-link" data-scroll-target="#in-progress-1">In Progress</a></li>
  <li><a href="#other-notes-1" id="toc-other-notes-1" class="nav-link" data-scroll-target="#other-notes-1">Other Notes</a></li>
  </ul></li>
  <li><a href="#week-9-july-24-to-july-30" id="toc-week-9-july-24-to-july-30" class="nav-link" data-scroll-target="#week-9-july-24-to-july-30">Week 9 (July 24 to July 30)</a>
  <ul class="collapse">
  <li><a href="#learned-8" id="toc-learned-8" class="nav-link" data-scroll-target="#learned-8">Learned</a></li>
  <li><a href="#created-8" id="toc-created-8" class="nav-link" data-scroll-target="#created-8">Created</a></li>
  </ul></li>
  <li><a href="#week-10-july-31-to-august-6" id="toc-week-10-july-31-to-august-6" class="nav-link" data-scroll-target="#week-10-july-31-to-august-6">Week 10 (July 31 to August 6)</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Coding Notebook</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="what-is-this" class="level2">
<h2 class="anchored" data-anchor-id="what-is-this">What is This?</h2>
<p>This is a public-facing notebook about what I’m doing, what I’m struggling to do, and what mistakes I’ve been making.</p>
</section>
<section id="week-1-may-29-to-june-4" class="level2">
<h2 class="anchored" data-anchor-id="week-1-may-29-to-june-4">Week 1 (May 29 to June 4)</h2>
<p>This week, I set up a preliminary <code>animint2</code> reference website.</p>
<section id="learned" class="level3">
<h3 class="anchored" data-anchor-id="learned">Learned</h3>
<ul>
<li>Learned more about the <code>pkgdown</code> R package:
<ul>
<li>Began looking into the <a href="https://pkgdown.r-lib.org/index.html"><code>pkgdown</code> documentation</a>.</li>
<li>Webpages seemed to be generated from <code>.rmd</code> files, so I was curious if the package also worked the same way for <code>.qmd</code> files. The <a href="https://community.rstudio.com/t/how-to-run-quarto-qmd-from-within-package/154711/2">answer is no</a>.</li>
<li>Looked up why <code>pkgdown</code> <a href="https://stackoverflow.com/questions/69507610/unable-to-push-package-website-pkgdown-from-r-to-github">adds the <code>docs/</code> directory into <code>.gitignore</code></a>. But it’s still unclear to me.</li>
<li>Noticed that the intro to <code>pkgdown</code> page <a href="https://pkgdown.r-lib.org/articles/pkgdown.html">accidentally uses the word “setting” twice in a row</a>.</li>
</ul></li>
<li>Learned more about git:
<ul>
<li>Learned of <code>gitk</code>, which I’ve never used before.</li>
<li>Learned about <a href="https://usethis.r-lib.org/articles/git-credentials.html">managing my git credentials in <code>usethis</code></a>.</li>
</ul></li>
<li>Looked up some tips on how to write code comments better. Tips from: <a href="https://web.archive.org/web/20201111223912/https://antjanus.com/blog/web-design-tips/best-comment-separator/">Antonin Januska</a> and <a href="https://stackoverflow.blog/2021/12/23/best-practices-for-writing-code-comments/">Ellen Spertus</a>.</li>
<li>Learned that the string <code>GITHUB_PAT</code> can be found in the <code>.github/workflows</code> directory.</li>
<li>Learned about documentation managers. There’s: <a href="https://zealdocs.org/">Zeal</a> and <a href="https://devdocs.io/">DevDocs</a>.</li>
<li>Learned that there are, like, eight test suites. And they automatically run when you make a pull request to the <code>animint2</code> repository. That’s nice. I’m also learning that the tests take a long time to run—about 45 minutes.</li>
<li>Turns out that <code>ripgrep-all</code> doesn’t look through YAML files. I need something like <code>yq</code> instead. Why?</li>
</ul>
</section>
<section id="created" class="level3">
<h3 class="anchored" data-anchor-id="created">Created</h3>
<ul>
<li>Created <code>README.md</code> from the <code>README.org</code> file via the magic of <code>pandoc</code>.</li>
<li>Created a preliminary website and documented how I generated it:
<ul>
<li>For the documentation and code, see <code>website_setup.Rmd</code>. Currently have information about building the website.</li>
<li>Put the site up online.</li>
</ul></li>
<li>Accidentally made a pull request in <code>tdhock/animint2</code>. Should’ve been <code>ampurr/animint2</code> instead. I closed it—be more careful.</li>
<li>Made a pull request in <code>ampurr/animint2</code> but did not initially succeed in closing it due to a test failing. Later, I pushed it anyway, which then threw the website online.</li>
<li>Successfully set up the website. But there are some errors. Most noticeably: it includes some functions that don’t seem to be part of <code>animint2</code>. Will need to investigate further.</li>
</ul>
</section>
<section id="confused" class="level3">
<h3 class="anchored" data-anchor-id="confused">Confused</h3>
<p>One of the tests—“Test Suite compiler”—failed. Here’s the error message:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>══ Failed tests ════════════════════════════════════════════════════════════════</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>── <span class="fu">Error</span> (<span class="st">'test-compiler-gist.R:4:3'</span>)<span class="sc">:</span> <span class="fu">animint2gist</span>() returns an object of class <span class="st">'gist'</span> ──</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>Error<span class="sc">:</span> Error<span class="sc">:</span> In non<span class="sc">-</span>interactive environments, please set GITHUB_PAT env to a GitHub access <span class="fu">token</span> (https<span class="sc">:</span><span class="er">//</span>help.github.com<span class="sc">/</span>articles<span class="sc">/</span>creating<span class="sc">-</span>an<span class="sc">-</span>access<span class="sc">-</span>token<span class="sc">-</span><span class="cf">for</span><span class="sc">-</span>command<span class="sc">-</span>line<span class="sc">-</span>use)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>Backtrace<span class="sc">:</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    ▆</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a> <span class="fl">1.</span> └─animint2<span class="sc">::</span><span class="fu">animint2gist</span>(<span class="fu">list</span>(<span class="at">p =</span> <span class="fu">qplot</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)), <span class="at">browse =</span> <span class="cn">FALSE</span>) at test<span class="sc">-</span>compiler<span class="sc">-</span>gist.R<span class="sc">:</span><span class="dv">4</span><span class="sc">:</span><span class="dv">2</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a> <span class="fl">2.</span>   └─gistr<span class="sc">::</span><span class="fu">gist_create</span>(...)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a> <span class="fl">3.</span>     ├─gistr<span class="sc">:::</span><span class="fu">gist_POST</span>(...)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a> <span class="fl">4.</span>     │ └─gistr<span class="sc">:::</span><span class="fu">cVERB</span>(...)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a> <span class="fl">5.</span>     │   └─crul<span class="sc">::</span>HttpClient<span class="sc">$</span><span class="fu">new</span>(url, <span class="at">headers =</span> <span class="fu">c</span>(auth, headers), <span class="at">opts =</span> <span class="fu">list</span>(...))</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a> <span class="fl">6.</span>     │     └─<span class="fu">crul</span> (local) <span class="fu">initialize</span>(...)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a> <span class="fl">7.</span>     └─gistr<span class="sc">::</span><span class="fu">gist_auth</span>()</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>[ FAIL <span class="dv">1</span> <span class="sc">|</span> WARN <span class="dv">0</span> <span class="sc">|</span> SKIP <span class="dv">5</span> <span class="sc">|</span> PASS <span class="dv">756</span> ]</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>Error<span class="sc">:</span> Error<span class="sc">:</span> Test failures</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>Execution halted</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>Error<span class="sc">:</span> Process completed with exit code <span class="fl">1.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>This is confusing, since I thought <code>GITHUB_PAT</code> was already set with a GitHub Access Token. I was also unaware of the large array of tests that activate when you try to push something. Quite frankly, I’m not sure what they do or what they prevent. It feels different than using <code>testthat</code>.</p>
<p>I also don’t understand the GitHub workflow stuff. What exactly is GitHub doing?</p>
</section>
</section>
<section id="week-2-june-5-to-june-11" class="level2">
<h2 class="anchored" data-anchor-id="week-2-june-5-to-june-11">Week 2 (June 5 to June 11)</h2>
<p>This week, I tried to fix <a href="https://github.com/tdhock/animint2/issues/89">issue 89</a>. I did not succeed.</p>
<section id="learned-1" class="level3">
<h3 class="anchored" data-anchor-id="learned-1">Learned</h3>
<ul>
<li>Learned that the <a href="https://roxygen2.r-lib.org/"><code>roxygen2</code> package</a> generates both the <code>.Rd</code> files and part of the <code>DESCRIPTION</code> for packages.</li>
<li>Learned that <a href="https://aur.archlinux.org/packages/r-devtools"><code>devtools</code> AUR package</a> has so so so many dependencies.</li>
<li>This is real basic, but I re-learned that <code>bash foo.sh</code> runs shell scripts. I haven’t run one since September of 2022.</li>
<li>Looked into <em>Writing R Extensions</em>, which I was not previously aware existed:
<ul>
<li>Read the <a href="https://cran.r-project.org/doc/manuals/R-exts.html#The-DESCRIPTION-file">DESCRIPTION file</a> portion.</li>
<li>Learned about <a href="https://datatracker.ietf.org/doc/html/rfc2822">RFC 2822</a>, a syntax standard for text messages in email. FastMail mentions that <a href="https://www.fastmail.help/hc/en-us/articles/1500000278382-Email-standards">RFC 5322 makes RFC 2822 obsolete</a>, but <em>Writing</em> requests emails be written in RFC 2822 formatting.</li>
</ul></li>
<li>When using Git Bash—i.e.&nbsp;<a href="https://mingw.osdn.io/">MinGW</a>—and <code>cd</code>, I need to swap the backwards slashes for forward slashes. Oddly, the backwards slashes work for some directories but not for others. It took me a while to realize this while debugging.</li>
<li>Figured out that the <code>borders()</code> function is part of <code>fortify-map.r</code>. That’s why it disappeared when I deleted that R file.</li>
<li>Learning about bash.</li>
<li>Learned that all the tidyverse data tidiers will eventually be retired. This includes both <code>ggplot2::fortify()</code> and <code>broom::tidy()</code>.</li>
</ul>
</section>
<section id="created-1" class="level3">
<h3 class="anchored" data-anchor-id="created-1">Created</h3>
<p>Nothing of value. I created several branches to try and fix the issue and didn’t succeed.</p>
<ul>
<li><a href="https://github.com/tdhock/animint2/tree/89-sp-maptools-dependency">One branch</a> focused on removing the <code>fortify</code> functions in <code>animint2</code>. This caused several tests to fail. Later, <a href="https://github.com/tdhock/animint2/pull/93#issuecomment-1585976690">Toby told me</a> that <code>map_data</code> is used in several tests and relies on the <code>fortify</code> functions.</li>
<li>As part of a debugging process, <a href="https://github.com/tdhock/animint2/tree/89-bug-exam-slightly-altered-main-branch">one branch was a copy of the main branch</a> with an additional text document. It was meant to test the GitHub tests. It passed the tests.</li>
<li>Another branch was meant to debug the branch where I removed the <code>fortify</code> functions.</li>
</ul>
</section>
<section id="failed" class="level3">
<h3 class="anchored" data-anchor-id="failed">Failed</h3>
<p>My debugging process didn’t succeed. Or, at the very least, it didn’t succeed in time.</p>
<p>Parts of it were headed in the right direction. After some experimentation, I confirmed that the problem stemmed from my changes to the repository (the removal of the <code>fortify</code> functions) and not from either <code>build.sh</code> or the GitHub tests. But my debugging was focused on the following error message:</p>
<blockquote class="blockquote">
<p>Error in <code>FUN(X[[i]], ...)</code>: numeric ‘envir’ arg not of length one.</p>
</blockquote>
<p>This error message comes from the <code>ggplot2</code> side of <code>animint2</code>’s code. In some sense, I was looking in the right direction—the <code>fortify</code> functions are from the <code>ggplot2</code> side of things. But I was focused on figuring out substitutes for <code>fortify</code> and failed to notice that the problem was with <code>map_data</code>.</p>
</section>
<section id="confused-1" class="level3">
<h3 class="anchored" data-anchor-id="confused-1">Confused</h3>
<p>For some reason, <code>build.sh</code> always fails to generate the <span class="math inline">\(\LaTeX\)</span> document correctly, mentioning some problem with the <code>.Rd</code> files. Then I think it runs the process again, and the problem disappears. Why?</p>
<p>Why are the tidyverse data tidiers being retired? I can’t find any info about that.</p>
<p><code>yay -S r-plyr r-reshape2</code> isn’t working and requires “manual intervention.” Why? Luckily, this isn’t important—<code>build.sh</code> runs perfectly fine on Git Bash and therefore I don’t actually need to figure out why the <code>yay</code> helper is acting this way.</p>
</section>
</section>
<section id="week-3-june-12-to-june-18" class="level2">
<h2 class="anchored" data-anchor-id="week-3-june-12-to-june-18">Week 3 (June 12 to June 18)</h2>
<p>This week, I complained a lot. I chatted with Fei, who said that she would take care of <a href="https://github.com/tdhock/animint2/issues/90">issue 90</a>. Thank you, Fei!</p>
<section id="learned-2" class="level3">
<h3 class="anchored" data-anchor-id="learned-2">Learned</h3>
<ul>
<li>First meeting with Toby!
<ul>
<li><code>animint2</code> doesn’t compute—all computations are done beforehand, and then <code>animint2</code> displays that as an interactive data visualization.</li>
<li>Also learned that capital letters go before lowercase letters in terms of alphabetical order. At least according to R.</li>
<li><code>build.sh</code>, and some of the GitHub Actions, are meant to emulate CRAN checks.</li>
<li>All else being equal, prefer small changes over large changes.</li>
</ul></li>
<li>Looked up <a href="https://www.selenium.dev/documentation/">selenium documentation</a> in order to figure out if a test case for <a href="https://github.com/tdhock/animint2/issues/90">issue 90</a> was possible.</li>
<li>Preliminary research on alt-text for <code>ggplot2</code>, graphs, and data visualizations:
<ul>
<li>N. Elmqvist. <a href="https://doi.org/10.1145/3571737">Data Visualization for the Blind</a>. In <em>Interactions</em>. 2023.</li>
<li>Office for National Statistics. <a href="https://style.ons.gov.uk/accessibility/alt-text/">Alt Text: A Guide to Writing About Statistics</a>.</li>
<li>C. Jung and others. <a href="https://arxiv.org/abs/2108.03657">Communicating Visualizations without Visuals</a>. In <em>ArXiv</em>. 2021.</li>
</ul></li>
<li>Learned about <code>rtools</code>, which is necessary to make R packages in Windows:
<ul>
<li>Learned that <code>rtools</code> is not an R package, but <a href="https://community.rstudio.com/t/errors-in-rtool-installations-install-packages-rtool-package-rtool-is-not-available/35689">must be installed separately</a>.</li>
<li>Found some <a href="https://cran.r-project.org/bin/windows/Rtools/index.html"><code>rtools</code> documentation</a>.</li>
<li>Toby sent a link that mentioned <code>rtools</code> <a href="https://cran.r-project.org/bin/windows/base/howto-R-4.3.html">needs MikTeX and Inconsolata</a>.</li>
</ul></li>
<li>Discovered the <a href="https://github.com/yihui/rmini/"><code>rmini</code> package</a>, which I’ve been using for testing purposes.</li>
<li>The <em>R Packages</em> book has <a href="https://r-pkgs.org/R-CMD-check.html#documentation">an appendix about <code>R CMD</code> checks</a>, including bug fix suggestions for <span class="math inline">\(\LaTeX\)</span> errors.</li>
<li>Took a look at <a href="https://www.uvm.edu/~tdonovan/RforFledglings/packages.html">Chapter 12: Packages</a> in <em>R for Fledglings</em>, but it wasn’t helpful.</li>
<li>There’s a Stack Overflow question about <a href="https://stackoverflow.com/questions/10819959/diagnosing-r-package-build-warning-latex-errors-when-creating-pdf-version"><span class="math inline">\(\LaTeX\)</span> errors in R packages</a>.</li>
</ul>
</section>
<section id="created-2" class="level3">
<h3 class="anchored" data-anchor-id="created-2">Created</h3>
<ul>
<li>Made a comment in <a href="https://github.com/tdhock/animint2/issues/90">issue 90</a>. Fei fixed Big Bug, but Little Bug is left.</li>
<li>Made a new issue: <a href="https://github.com/tdhock/animint2/issues/96">issue 96</a>, which is about some <span class="math inline">\(\LaTeX\)</span> errors that seem exclusive to me.</li>
</ul>
</section>
</section>
<section id="week-4-june-19-to-june-25" class="level2">
<h2 class="anchored" data-anchor-id="week-4-june-19-to-june-25">Week 4 (June 19 to June 25)</h2>
<p>This week, I tried to set up the reference website again—this time in Toby’s repository instead of my fork. This didn’t work, so I started tinkering with my fork again.</p>
<section id="learned-3" class="level3">
<h3 class="anchored" data-anchor-id="learned-3">Learned</h3>
<ul>
<li><a href="https://docs.github.com/en">Here are the GitHub Docs</a>. Look here when you have a question about GitHub.</li>
<li>Looked up how to get permission to change GitHub Page settings in the <code>animint2</code> repository. One <a href="https://stackoverflow.com/questions/40673052/how-to-promote-a-collaborator-to-have-owner-rights">Stack Overflow post</a> suggested obtaining admin rights. Instead, Toby created an organization for repository and gave us permissions that way.</li>
<li>Looked up info about the <a href="https://docs.github.com/en/rest/pages">GitHub Pages API</a>.</li>
<li>Refamiliarized myself with aspects of git that I’ve never used before:
<ul>
<li>On detached HEADs: <a href="https://stackoverflow.com/questions/10228760/how-do-i-fix-a-git-detached-head">Stack Overflow: How Do I Fix a Detached HEAD?</a> and <a href="https://stackoverflow.com/questions/47154114/how-to-reattach-a-detached-head-in-git">How to Reattach a Detached HEAD</a>.</li>
<li>On undoing merges in git: <a href="https://stackoverflow.com/questions/1146973/how-do-i-revert-all-local-changes-in-git-managed-project-to-previous-state">Stack Overflow: How Do I Revert All Local Changes?</a> and <a href="https://stackoverflow.com/questions/42860234/how-to-undo-a-merge-in-github">How to Undo a Merge</a>. Here’s a <a href="https://www.git-tower.com/learn/git/faq/undo-git-merge/">blog post on undoing merges with <code>git reset</code></a>.</li>
<li><a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/incorporating-changes-from-a-pull-request/reverting-a-pull-request">GitHub: Reverting a Pull Request</a>.</li>
</ul></li>
<li>Learned more about GitHub’s personal access tokens:
<ul>
<li><a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens">GitHub Docs: Managing Your PATs</a>.</li>
<li><a href="https://docs.github.com/en/get-started/getting-started-with-git/caching-your-github-credentials-in-git">GitHub Docs: Caching Your GitHub credentials in Git</a>.</li>
<li><a href="https://stackoverflow.com/questions/46645843/where-to-store-my-git-personal-access-token">Stack Overflow: Where to Store My GitHub PAT?</a>.</li>
</ul></li>
<li>Learned a little more about GitHub Actions:
<ul>
<li>You can <a href="https://docs.github.com/en/actions/managing-workflow-runs/re-running-workflows-and-jobs">choose which GitHub Actions to re-run</a>. Nice! When a test fails, I can just rerun that test instead of waiting 45 minutes for everything to run again.</li>
<li><a href="https://docs.github.com/en/actions/security-guides/automatic-token-authentication">GitHub Docs: About <code>GITHUB_TOKEN</code></a>.</li>
<li>A <a href="https://dev.to/github/the-githubtoken-in-github-actions-how-it-works-change-permissions-customizations-3cgp">blog post about the <code>GITHUB_TOKEN</code> in GitHub Actions</a>.</li>
<li>There’s <a href="https://usethis.r-lib.org/reference/github-token.html">documentation for <code>usethis::github_token</code></a>.</li>
</ul></li>
<li>There’s an error that I often get: <code>In non-interactive environments, please set GITHUB_PAT env to a GitHub access token</code>. Where does it come from? After doing a GitHub code search, I figured out that it’s from the <a href="https://cran.r-project.org/web/packages/gistr/vignettes/gistr.html"><code>gistr</code> R package</a>.</li>
</ul>
</section>
<section id="created-3" class="level3">
<h3 class="anchored" data-anchor-id="created-3">Created</h3>
<p>A mess. I accidentally merged my changes from my fork of <code>animint2</code> into the original <code>animint2</code> repository. Whoops.</p>
</section>
</section>
<section id="week-5-june-26-to-july-2" class="level2">
<h2 class="anchored" data-anchor-id="week-5-june-26-to-july-2">Week 5 (June 26 to July 2)</h2>
<p>This week, I’m setting the website up again. Yay! Toby said that he <a href="https://github.com/animint/animint2/issues/97#issuecomment-1615428430">wants me to replace the README entirely</a>, so that’s happening, too.</p>
<section id="learned-4" class="level3">
<h3 class="anchored" data-anchor-id="learned-4">Learned</h3>
<ul>
<li>You know issue 96? The one about <span class="math inline">\(\LaTeX\)</span> errors? I <a href="https://github.com/animint/animint2/issues/96#issuecomment-1612444392">tried installing Inconsolata</a>, but it didn’t fix the issue. My Inconsolata font is the variable one from <a href="https://github.com/google/fonts/tree/main/ofl/inconsolata">Google Fonts</a>.</li>
<li>I wanted to know if it was possible to manually run a GitHub Action thing—that way, I would know if I’m failing a test before I submit a pull request. Turns out <a href="https://stackoverflow.com/questions/60419257/is-it-possible-to-manually-run-a-github-workflow">the answer is yes</a>, but only if I have the <code>workflow_dispatch</code> trigger. The workflow in <code>animint2</code> doesn’t have that trigger, though.</li>
<li>Learned that the Windows 11 snipping tool <a href="https://www.microsoft.com/en-us/windows/learning-center/how-to-record-screen-windows-11">can record videos</a>.</li>
<li>Learned how to <a href="https://stackoverflow.com/a/42827058">trim videos with ffmpeg</a>.</li>
<li>I dunno what it does, but there’s this <a href="https://r-universe.dev">R Universe thing</a>. You can search for <code>animint2</code> and get information about it.</li>
<li>Learned that <code>data()</code> will generate a list of all of R’s <a href="https://rstats101.com/built-in-datasets-in-r/">built-in datasets</a>.</li>
<li>Learned that I can <a href="https://quarto.org/docs/output-formats/gfm.html">generate GitHub-flavored Markdown (GFM) with Quarto</a>. Here are <a href="https://quarto.org/docs/reference/formats/markdown/gfm.html">Quarto’s options for GFM</a>.</li>
<li>R and <code>ggplot2</code> have built-in datasets, and I found the codebooks! <a href="https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/">These codebooks are for R</a>. And <a href="https://ggplot2.tidyverse.org/reference/index.html#data">these are for <code>ggplot2</code></a>.</li>
</ul>
</section>
<section id="created-4" class="level3">
<h3 class="anchored" data-anchor-id="created-4">Created</h3>
<ul>
<li>Toby created an organization, <em>animint</em>, for the <code>animint2</code> repository. I did some things with it:
<ul>
<li>I changed the profile picture to a dittered Suki. Improving the world one cat pic at a time.</li>
<li>I changed the settings so that we can control things with our personal access tokens (PATs). If you want, go to <code>Settings &gt; Third-party Access &gt; Personal Access Tokens</code> to change it back.</li>
<li>I generated a PAT for <code>animint2</code>.</li>
</ul></li>
<li>Converted <code>README.md</code> to <code>README.qmd</code>, which will let me do R computations for the website homepage.</li>
<li>Added the “Differences with other packages” section from <code>README.org</code> to the animint2 repo wiki.</li>
</ul>
</section>
<section id="in-progress" class="level3">
<h3 class="anchored" data-anchor-id="in-progress">In Progress</h3>
<ul>
<li>I’m thoroughly updating and cleaning up the <code>website_setup.Rmd</code> document.</li>
<li>I’m editing <code>README.qmd</code> to be clearer and more immediately useful. Later, I’ll convert it to <code>README.md</code> for <code>pkgdown</code> to read.</li>
</ul>
</section>
</section>
<section id="week-6-july-3-to-july-9" class="level2">
<h2 class="anchored" data-anchor-id="week-6-july-3-to-july-9">Week 6 (July 3 to July 9)</h2>
<p>Hoping to finish up the website this week. (Editor’s note: this didn’t happen.) Weird bugs exclusive to me and GitHub-specific problems… I’m behind on my timeline for reasons I didn’t anticipate. Good learning experience, though I’m learning about things I didn’t anticipated.</p>
<section id="learned-5" class="level3">
<h3 class="anchored" data-anchor-id="learned-5">Learned</h3>
<ul>
<li>Unsurprising, but I learned that you <a href="https://stackoverflow.com/questions/21340803/embed-javascript-in-github-readme-md">can’t have JavaScript in your GitHub README</a>. This is generally untrue: it’s possible to <a href="https://stackoverflow.com/questions/2754391/embed-javascript-in-markdown">embed Javascript in Markdown</a>.</li>
<li>For Windows, it’s easy to <a href="https://stackoverflow.com/questions/69508787/how-to-change-the-default-browser-opened-for-localhost">change the localhost default browser</a>.</li>
<li>Remember: in RStudio, use <kbd>Ctrl + Shift + C</kbd> to comment out multiple lines.</li>
<li>Load a built-in dataset with <code>data()</code> and use <code>View()</code> to see a dataset more fully.</li>
<li>Looked up datasets. Found one about <a href="https://github.com/washingtonpost/data-school-shootings/tree/master">school shootings</a> by the <em>Washington Post</em>. Also found the <a href="https://github.com/Polychart/polychart2/blob/master/example/population.coffee"><code>worldPop</code> dataset</a> in <code>animint2</code>.</li>
<li>Looked up the <a href="https://cran.r-project.org/web/views/Distributions.html">CRAN List View on probability distributions</a>.</li>
<li>For subsetting, see <a href="https://adv-r.hadley.nz/subsetting.html#subsetting">Advanced R: Subsetting Data</a> and <a href="https://stackoverflow.com/questions/12328056/how-do-i-delete-rows-in-a-data-frame">this post</a> on deleting rows.</li>
<li>Some useful links for when I’m simulating data:
<ul>
<li>Use <code>rep()</code> to repeat a value some amount of times. <a href="https://stackoverflow.com/a/27472694">Link</a>. <a href="https://stackoverflow.com/a/3672568">Another link</a>. <a href="https://stackoverflow.com/questions/6432067/create-sequence-of-repeated-values-in-sequence">Third link</a> that suggests other functions.</li>
<li>Use <code>data.frame(vector1, vector2)</code> to concatenate vectors into columns. <a href="https://stackoverflow.com/a/14624658">Link</a>.</li>
</ul></li>
</ul>
</section>
<section id="created-5" class="level3">
<h3 class="anchored" data-anchor-id="created-5">Created</h3>
<ul>
<li>Created <code>vignettes/simple-examples.Rmd</code> to house the usage examples for the <code>README</code> document. Why? Cuz GitHub doesn’t allow JavaScript in its READMEs.</li>
</ul>
</section>
<section id="other-notes" class="level3">
<h3 class="anchored" data-anchor-id="other-notes">Other Notes</h3>
<ul>
<li>When using <code>animint::labs()</code>, subtitles, tags, and captions don’t work. <code>ggplot2</code> page for the function <a href="https://ggplot2.tidyverse.org/reference/labs.html">is here</a>.</li>
</ul>
</section>
</section>
<section id="week-7-july-10-to-july-16" class="level2">
<h2 class="anchored" data-anchor-id="week-7-july-10-to-july-16">Week 7 (July 10 to July 16)</h2>
<p>This week, I’ve continued work on the quick start guide.</p>
<section id="learned-6" class="level3">
<h3 class="anchored" data-anchor-id="learned-6">Learned</h3>
<ul>
<li>Re-reading <a href="https://rcdata.nau.edu/genomic-ml/animint2-manual/Ch03-showSelected.html">chapter 3</a> and <a href="https://rcdata.nau.edu/genomic-ml/animint2-manual/Ch04-clickSelects.html">chapter 4</a> of the <em>Animint2 Manual</em>.</li>
<li>Cosma Shalizi’s <a href="https://www.stat.cmu.edu/~cshalizi/rmarkdown/">notes on R Markdown</a>. Read this before—it’s a useful reference.</li>
<li><a href="https://r.helpful.codes/">R Helpful Codes</a> has a bunch of little R resources and tutorials. <em>Advanced R</em> <a href="https://adv-r.hadley.nz/subsetting.html#ordering-integer-subsetting">mentions</a> <code>order()</code>.</li>
<li>There’s a <a href="https://stackoverflow.com/questions/420296/what-are-some-good-books-web-resources-and-projects-for-learning-r">Stack Overflow post</a> with R Resources, including an <a href="">R reference card</a> that I’ve never seen before.</li>
<li>Some more useful notes for data simulation:
<ul>
<li><code>sort()</code> lets us sort our data. <code>order()</code> works, too, and in a more sophisticated way.</li>
<li><a href="https://stackoverflow.com/a/12600068"><code>cummax</code> lets you obtain the largest scalars in your vector</a>. It is related to <code>cumsum()</code></li>
<li>Use <code>rbind() |&gt; c()</code> to <a href="https://stackoverflow.com/q/53802352">weave multiple vectors together</a>.</li>
<li>It’s <a href="https://stackoverflow.com/a/46314294">pretty easy to sample from multiple vectors and then concatenate them</a>.</li>
</ul></li>
<li>James Murray has a collection of <a href="https://murraylax.org/rtutorials/">R tutorials</a>, including one on the <a href="https://murraylax.org/rtutorials/gog.html">grammar of graphics</a>.</li>
<li>Use <code>[link](#foo-bar)</code> to link to the <code>foo-bar</code> section in a Markdown document. <a href="https://stackoverflow.com/a/16426829">Link</a>.</li>
</ul>
</section>
<section id="created-6" class="level3">
<h3 class="anchored" data-anchor-id="created-6">Created</h3>
<ul>
<li>Massaged simulated data until they were useful and looked somewhat real.</li>
<li>Continued work with <code>simple-examples.Rmd</code>, which was renamed <code>quick-start.Rmd</code>. The simple examples vignette has transformed into a larger quick start guide.</li>
</ul>
</section>
</section>
<section id="week-8-july-17-to-july-23" class="level2">
<h2 class="anchored" data-anchor-id="week-8-july-17-to-july-23">Week 8 (July 17 to July 23)</h2>
<p>This week, I finally finished the quick start guide. And the README, too. I also worked a little on <code>website_setup.Rmd</code> and <code>_pkgdown.yml</code>.</p>
<section id="learned-7" class="level3">
<h3 class="anchored" data-anchor-id="learned-7">Learned</h3>
<ul>
<li>Erik Bernhardsson has an analysis for why <a href="https://erikbern.com/2019/04/15/why-software-projects-take-longer-than-you-think-a-statistical-model.html">software projects take longer than expected</a>. For obvious reasons, it’s something I’ve been thinking about regarding the reference website project.</li>
<li>Learned (or re-learned) about the <code>signif()</code> function, which is useful for rounding and cutting off overly-precise numbers.</li>
<li><em>Data Visualization: A Practical Introduction</em> has a section on <code>broom</code> in Chapter 6. Useful, since it’s unclear to me what data tidiers do.</li>
<li>There are ways to place plots side by side in <code>ggplot2</code>, but those methods don’t work in <code>animint2</code>. <a href="https://ggplot2-book.org/arranging-plots.html"><em>ggplot2: Elegant Graphics for Data Analysis</em> link</a>. <a href="https://stackoverflow.com/q/1249548">Stack Overflow link</a>.</li>
<li>You can remove <a href="https://stackoverflow.com/q/35618260">legends</a> and <a href="https://stackoverflow.com/a/19821839">axes</a> in <code>ggplot2</code>. These solutions throw up errors when used with <code>animint2</code>.</li>
<li>In Notepad++:
<ul>
<li><code>Edit &gt; Blank Operations</code> offers you the option to delete trailing whitespaces.</li>
<li><kbd>Alt</kbd><kbd>Shift</kbd> throws you into <a href="https://npp-user-manual.org/docs/editing/">column mode</a>. Good for mass editing.</li>
</ul></li>
<li>Comments are the same in both R and YAML. Use the <code>#</code> sign.</li>
</ul>
</section>
<section id="created-7" class="level3">
<h3 class="anchored" data-anchor-id="created-7">Created</h3>
<ul>
<li>Finished drafts for <code>quick-start.Rmd</code>, <code>README.qmd</code>, and <code>README.md</code>. Yay!</li>
</ul>
</section>
<section id="in-progress-1" class="level3">
<h3 class="anchored" data-anchor-id="in-progress-1">In Progress</h3>
<ul>
<li>Worked on <code>_pkgdown.yml</code>.</li>
</ul>
</section>
<section id="other-notes-1" class="level3">
<h3 class="anchored" data-anchor-id="other-notes-1">Other Notes</h3>
<ul>
<li><code>animint()</code> fails to render ggplots that uses <code>geom_smooth()</code>.</li>
</ul>
</section>
</section>
<section id="week-9-july-24-to-july-30" class="level2">
<h2 class="anchored" data-anchor-id="week-9-july-24-to-july-30">Week 9 (July 24 to July 30)</h2>
<section id="learned-8" class="level3">
<h3 class="anchored" data-anchor-id="learned-8">Learned</h3>
<ul>
<li>The <code>ggplot2</code> repository has a <a href="https://github.com/tidyverse/ggplot2/blob/main/_pkgdown.yml">useful <code>_pkgdown.yml</code> file</a>. I used it as a model for <code>animint2</code>’s file.</li>
<li>Turns out that there are lots of <a href="https://en.wikipedia.org/w/index.php?title=Whitespace_character&amp;oldid=1146154369">whitespace characters in Unicode</a>.</li>
<li>I got a parser error in my <code>_pkgdown.yml</code> file, so I looked it up:
<ul>
<li>Looked through the <a href="https://yaml.org/spec/1.2.2/">YAML specs</a>. In YAML, it turns out that whitespace is syntactically significant in some places and ignored in others.</li>
<li>This <a href="https://stackoverflow.com/a/21699210">Stack Overflow response</a> notes there are at least 9 ways to write multi-line strings in YAML and comments: “YAML is crazy.”</li>
</ul></li>
<li>I tried to download the YAML specs as a PDF so it would be easier to read off the computer. This led to a wild adventure:
<ul>
<li>The YAML repo uses a <a href="https://github.com/yaml/yaml-spec/blob/main/spec/1.2.2/spec.md">Markdown file</a> that does not play well with pandoc.</li>
<li>I’d forgotten that R Markdown and Quarto create PDFs differently. In the former, use <a href="https://bookdown.org/yihui/rmarkdown/pdf-document.html"><code>output: pdf_document</code></a> or the <a href="https://rmarkdown.rstudio.com/lesson-9.html"><code>render</code> function</a>.</li>
<li>To <a href="https://imagemagick.org/script/mogrify.php">convert multiple images in Imagemagick</a>, use <code>magick mogrify...</code>.</li>
</ul></li>
<li>I’d forgotten why <code>_pkgdown.yml</code> uses <code>bootstrap: 5</code>. It’s cuz some sites might break from the upgrade, so we need to <a href="https://github.com/r-lib/pkgdown/blob/c9206802f2888992de92aa41f517ba7812f05331/README.md?plain=1#L68C4-L68C4">specify that we wanna use Bootstrap 5</a>.</li>
</ul>
</section>
<section id="created-8" class="level3">
<h3 class="anchored" data-anchor-id="created-8">Created</h3>
<ul>
<li>Finished the <code>pkgdown.yml</code> draft.
<ul>
<li>There was a parser error, but I fixed it. Turns out it was a <a href="https://github.com/animint/animint2/issues/97#issuecomment-1650780986">whitespace error</a>.</li>
<li>But now there’s a <a href="https://github.com/animint/animint2/issues/97#issuecomment-1650780986">couple of new errors</a>.</li>
</ul></li>
</ul>
</section>
</section>
<section id="week-10-july-31-to-august-6" class="level2">
<h2 class="anchored" data-anchor-id="week-10-july-31-to-august-6">Week 10 (July 31 to August 6)</h2>
<p>Nothing here yet. Unless you have an <a href="https://iep.utm.edu/time/#SH14a">unusual ontology of time</a>, of course. In that case, something was always here and always will be.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>